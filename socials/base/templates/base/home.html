{% extends 'main.html' %}
{% load static %} 

{% block styles %}
<link rel="stylesheet" href="{% static 'styles/home.scss' %}" />

<!-- Icons -->
<link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.6/css/unicons.css">

<!-- Font-awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<style>
  #heart.red {
    color: red;
  }
</style>

{% endblock %}

<!-- Title -->
{% block title %}
<title>Dashboard</title>
{% endblock %}

{% block content %} 
<nav>
  <div class="container">
    <div class="log">
      <img src="{% static 'images/truffle.png' %}" style="height:75px;cursor:pointer;">
    </div>

    <!-- Search bar -->
    <form action="/search" method="POST">
      {% csrf_token %}
      <div class="search-bar">
          <input type="search" placeholder="Search for other users" name="username">
          <button type="submit"><i class="uil uil-search"></i> </button> 
      </div>
    </form>

    <div class="create">
      {% if user.is_authenticated %}
      <a href="{% url 'logout' %}">logout</a>
      {% else %}
      <a href="{% url 'signup' %}">Signup</a>
      <a href="{% url 'login' %}">Login</a>
      {% endif %}
      <button class="btn btn-primary">
        <a href="{% url 'add_post' %}" style="color: #fff;text-decoration: none;">Create Post</a>
      </button>
      <div class="profile-photo" style="cursor:pointer;">
        <a class="profile" href="{% url 'show_profile_page' user.profile.id %}" style="text-decoration: none;">
          <img src="{{user_profile.profileimg.url}}" alt="profile-photo">
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- MAIN -->
<main style="background-color:rgb(244, 234, 234); padding-top: 40px;">
  <div class="container">
    <div class="left">
      {% if user.is_authenticated %}
      <a class="profile" href="{% url 'show_profile_page' user.profile.id %}" style="text-decoration: none;">
        <div class="profile-photo" style="cursor:pointer;">
          <img src="{{user_profile.profileimg.url}}" alt="profile-1">
        </div>
        <div class="handle">
          <h4 style="text-decoration: none;">{{user_profile.fname}}</h4>
          <p class="text-muted">
            {{user_profile.username}}
          </p>
        </div>
      </a>
      {% endif %}
      
      <!-- sidebar -->
      <div class="sidebar">
        <a class="menu-item active" href="{% url 'home' %}" style="text-decoration: none;">
          <span><i class="uil uil-home"></i></span><h3>Home</h3>
        </a>
        <a class="menu-item" href="{% url 'add_post' %}" style="text-decoration: none;">
          <span><i class="uil uil-compass"></i></span><h3>Add Post</h3>
        </a>
        <a class="menu-item" href="{% url 'edit_profile_page' user.profile.id %}" style="text-decoration: none;">
          <span><i class="uil uil-edit"></i></span><h3>Edit Profile</h3>
        </a>
        <a class="menu-item" href="{% url 'show_profile_page' user.profile.id %}" style="text-decoration: none;">
          <span><i class="uil uil-bookmark"></i></span><h3>Profile</h3>
        </a>
        <a class="menu-item" href="/password" style="text-decoration: none;">
          <span><i class="uil uil-lock"></i></span><h3>Change Password</h3>
        </a>
      </div>
      <!-- end of sidebar -->
      <button class="btn btn-primary">
        <a href="{% url 'add_post' %}" style="color: #fff;text-decoration: none;">Create Post</a>
      </button>
    </div>
    <!-- END OF LEFT -->

    <div class="middle">
      <!-- FEED -->
      <div class="feeds">
        <!-- FEED 1 -->
        {% if count_posts == 0  %}
        <div class="empty-state">
          <div class="empty-state__content">
            <div class="empty-state__icon">
              <img src="{% static 'images/home/not-found.webp' %}" alt="">
            </div>
            <div class="empty-state__message" style="color: #9a35dd;font-weight: bold;font-size: 30px; text-align: center;">No posts have been added yet.</div>
